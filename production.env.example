# =====================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =====================================================
# This file documents all environment variables required
# for production deployment. Copy values to your actual
# .env files (server/.env and client/.env)
# 
# ⚠️ NEVER commit actual credentials to version control
# =====================================================

# -----------------------------------------------------
# SERVER ENVIRONMENT VARIABLES (server/.env)
# -----------------------------------------------------

# Database - MongoDB Atlas
MONGO_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority

# Redis - Upstash (Session Management & Caching)
REDIS_HOST=<your-upstash-host>.upstash.io
REDIS_PORT=6379
REDIS_PASSWORD=<your-upstash-password>
REDIS_TLS=true

# Server Configuration
PORT=5000
NODE_ENV=production

# JWT Authentication
JWT_SECRET=<generate-strong-random-string-min-32-chars>
JWT_EXPIRE=7d
JWT_COOKIE_EXPIRE=7

# Google OAuth 2.0
GOOGLE_CLIENT_ID=<your-google-oauth-client-id>
GOOGLE_CLIENT_SECRET=<your-google-oauth-client-secret>
GOOGLE_CALLBACK_URL=https://yourdomain.com/api/v1/auth/google/callback

# Cloudinary (Image Hosting)
CLOUDINARY_CLOUD_NAME=<your-cloudinary-cloud-name>
CLOUDINARY_API_KEY=<your-cloudinary-api-key>
CLOUDINARY_API_SECRET=<your-cloudinary-api-secret>

# Razorpay (Payment Gateway)
RAZORPAY_KEY_ID=<your-razorpay-key-id>
RAZORPAY_KEY_SECRET=<your-razorpay-key-secret>

# Email Service (Nodemailer)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=<your-email@gmail.com>
EMAIL_PASSWORD=<your-app-specific-password>
EMAIL_FROM=ShopMate <noreply@shopmate.com>

# Sentry Error Tracking (Backend)
SENTRY_DSN=https://<key>@<organization>.ingest.sentry.io/<project-id>
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# CORS Configuration
CLIENT_URL=https://yourdomain.com
FRONTEND_URL=https://yourdomain.com

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100  # Max requests per window for API endpoints
STRICT_RATE_LIMIT_MAX=10     # Max requests for strict endpoints (auth, payment)

# -----------------------------------------------------
# CLIENT ENVIRONMENT VARIABLES (client/.env)
# -----------------------------------------------------

# API Configuration
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# Firebase Configuration (Authentication & Real-time)
NEXT_PUBLIC_FIREBASE_API_KEY=<your-firebase-api-key>
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=<your-project>.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=<your-project-id>
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=<your-project>.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=<your-sender-id>
NEXT_PUBLIC_FIREBASE_APP_ID=<your-app-id>

# Sentry Error Tracking (Frontend)
NEXT_PUBLIC_SENTRY_DSN=https://<key>@<organization>.ingest.sentry.io/<project-id>
NEXT_PUBLIC_SENTRY_ENVIRONMENT=production

# Analytics (Optional)
NEXT_PUBLIC_GA_TRACKING_ID=G-XXXXXXXXXX

# -----------------------------------------------------
# DEPLOYMENT CHECKLIST
# -----------------------------------------------------
# 
# Before deploying to production:
# 
# ✓ Replace all placeholder values with actual credentials
# ✓ Ensure MongoDB Atlas IP whitelist includes your server IP
# ✓ Configure Upstash Redis for TLS connections
# ✓ Set up Cloudinary upload presets
# ✓ Enable Razorpay webhook endpoints
# ✓ Create Sentry projects for frontend and backend
# ✓ Test all external service connections
# ✓ Verify CORS settings match your frontend domain
# ✓ Set strong JWT_SECRET (use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
# ✓ Enable Google OAuth credentials for production domain
# ✓ Configure email service app-specific passwords
# 
# -----------------------------------------------------
